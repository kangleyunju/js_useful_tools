<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用示例</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
      body {
        padding: 10px;
      }
      a {
        margin-right: 10px;
      }
      main div {
        padding: 10px 0;
      }
      p {
        color: #f00;
      }
      main div button {
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
    <a href="https://npmmirror.com/package/js-useful-tools" target="_blank">cnpm官网</a>
    <a href="https://www.npmjs.com/package/js-useful-tools" target="_blank">npm官网</a>
    <a href="https://gitee.com/kangleyunju/js_useful_tools" target="_blank">gitee源码</a>
    <a href="https://github.com/kangleyunju/js_useful_tools" target="_blank">github源码</a>
    <p>提示：点击按钮触发事件，F12打开控制台可查看结果，详细使用方法可以鼠标右键查看网页源码</p>
    <script type="module">
      import * as globale from './index.js'
      $(document).ready(function() {
        const list = [{
          name: 'createToken',
          desc: '生成随机8位token'
        }, {
          name: 'checkWeb',
          desc: '验证网址'
        }, {
          name: 'checkEmail',
          desc: '验证邮箱'
        }, {
          name: 'checkTelephone',
          desc: '验证手机号'
        }, {
          name: 'checkCarNumber',
          desc: '验证车牌号'
        }, {
          name: 'dayDiff',
          desc: '两个日期间隔天数'
        }, {
          name: 'downloadFile',
          desc: '下载文件'
        }, {
          name: 'fileToBase64',
          desc: '文件转base64'
        }, {
          name: 'pathToBase64',
          desc: '链接转base64'
        }, {
          name: 'base64ToPath',
          desc: 'base64转链接'
        }, {
          name: 'setStorage',
          desc: '添加缓存'
        }, {
          name: 'getStorage',
          desc: '获取缓存'
        }, {
          name: 'removeStorage',
          desc: '删除缓存'
        }, {
          name: 'shake',
          desc: '震动1秒'
        }, {
          name: 'copyText',
          desc: '复制文本'
        }, {
          name: 'checkIsMobile',
          desc: '检查设备是否手机'
        }, {
          name: 'arraySort',
          desc: '数组排序'
        }, {
          name: 'debounce',
          desc: '防抖'
        }, {
          name: 'throttle',
          desc: '节流'
        },{
          name: 'encodeStr',
          desc: '字符串加密'
        },{
          name: 'decodeStr',
          desc: '字符串解密'
        },{
          name: 'numToTime',
          desc: '时间戳转年月日'
        },{
          name: 'isLeapYear',
          desc: '是否闰年'
        }]
        //渲染页面
        list.forEach((item, index) => {
          let main = document.createElement('main')
          $('body')[0].appendChild(main)
          let div = document.createElement('div')
          let span = document.createElement('span')
          span.innerHTML = index + 1 + '.' + item.name
          div.appendChild(span)
          let button = document.createElement('button')
          button.id = item.name
          button.innerHTML = item.desc
          div.appendChild(button)
          $('main')[0].appendChild(div)
        })
        //点击事件
        $(document).on("click", "button", function() {
          var id = this.getAttribute('id')
          switch (id) {
            case 'createToken':
              console.log('生成随机8位token:' + globale.createToken('8'))
              break
            case 'checkWeb':
              console.log('验证网址:' + globale.checkWeb('https://www.baidu.com'))
              break
            case 'checkEmail':
              console.log('验证邮箱:' + globale.checkEmail('123456@qq.com'))
              break
            case 'checkTelephone':
              console.log('验证手机号:' + globale.checkTelephone('13012345678'))
              break
            case 'checkCarNumber':
              console.log('验证车牌号:' + globale.checkCarNumber('沪A12345D'))
              break
            case 'dayDiff':
              console.log('两个日期间隔天数:' + globale.dayDiff('2022-09-08', '2023-01-09'))
              break
            case 'downloadFile':
              globale.downloadFile('https://imglf5.lf127.net/img/VG9aM2NaMjdrT1BVQW1HbnE2bUhIUlpWYW9jZG43cEY3cWFGUlRVZ0pZVmlxaTBZdThZWTVRPT0.jpg', '文件名称')
              break
            case 'fileToBase64':
              console.log('文件转base64暂不演示,需要传文件')
              break
            case 'pathToBase64':
              console.log('链接转base64暂不演示,需要传链接')
              break
            case 'base64ToPath':
              console.log('base64转链接暂不演示,需要传base64')
              break
            case 'setStorage':
              globale.setStorage('testKey', 1)
              console.log('存入testKey:1')
              break
            case 'getStorage':
              console.log('获取testKey:', globale.getStorage('testKey'))
              break
            case 'removeStorage':
              globale.removeStorage('testKey')
              console.log('删除testKey')
              break
            case 'shake':
              globale.shake('1000')
              console.log('震动1秒')
              break
            case 'copyText':
              globale.copyText('npm install js-useful-tools')
              break
            case 'checkIsMobile':
              console.log('检查设备是否手机:', globale.checkIsMobile())
              break
            case 'arraySort':
              console.log('数组排序,降序:', globale.arraySort([{ val: 1 }, { val: 3 }, { val: 2 }], 2, 'val'))
              break
            case 'debounce':
              globale.debounce(() => {
                console.log('用户结束操作1秒后执行,比如实时搜索')
              }, 1000)
              break
            case 'throttle':
              globale.throttle(() => {
                console.log('1秒执行一次操作,比如提交事件')
              }, 1000)
              break
            case 'arrayRandom':
              console.log('从数组中随机取一个数', globale.arrayRandom([1, 2, 3]))
              break
            case 'encodeStr':
              console.log('字符串加密js_useful_tools=>', globale.encodeStr('js_useful_tools'))
              break
            case 'decodeStr':
              console.log('字符串解密yÝÒÔèØËÛáËÓãÞÛß=>', globale.decodeStr('yÝÒÔèØËÛáËÓãÞÛß'))
              break
            case 'isLeapYear':
              console.log('2022是否闰年', globale.isLeapYear(2022))
              break
          }
        })
      })
    </script>
  </body>
</html>